<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SEEZU</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --pink:#ff5c8d;
  --light:#ffe6ef;
  --white:#ffffff;
}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--light);
}
.container{
  max-width:420px;
  margin:auto;
  padding:20px;
  text-align:center;
}
#logo{
  font-size:48px;
  font-weight:bold;
  color:var(--pink);
}
#girl{
  width:260px;
  border-radius:25px;
  margin:15px auto;
  display:block;
}
.card{
  background:#fff;
  border-radius:20px;
  padding:15px;
  margin:15px 0;
}
button{
  background:var(--pink);
  color:#fff;
  border:none;
  padding:12px;
  border-radius:25px;
  width:100%;
  font-size:16px;
  cursor:pointer;
}
input{
  width:100%;
  padding:12px;
  border-radius:20px;
  border:1px solid #ccc;
  margin:8px 0;
}

/* CHAT */
.chat-box{
  max-height:220px;
  overflow:auto;
  text-align:left;
}
.msg{
  background:#ffb3cc;
  padding:8px 12px;
  border-radius:15px;
  margin:6px 0;
}
.msg-row{
  display:flex;
  gap:8px;
}
.msg-row input{
  flex:1;
}
.typing{
  font-size:12px;
  opacity:0.6;
}

/* SOCIAL */
.social{
  display:flex;
  gap:10px;
  justify-content:center;
}
.social a{
  background:var(--pink);
  color:#fff;
  padding:10px 14px;
  border-radius:20px;
  text-decoration:none;
  font-size:14px;
}
</style>
</head>

<body>

<div class="container">

<!-- LOGIN -->
<div id="loginCard" class="card">
  <div id="logo">SEEZU</div>
  <img src="girl.jpg" id="girl">
  <input id="loginName" placeholder="Enter your name">
  <button onclick="login()">Login</button>
</div>

<!-- MAIN -->
<div id="main" style="display:none">

  <div id="logo">SEEZU</div>
  <img src="girl.jpg" id="girl">

  <!-- SOCIAL -->
  <div class="card">
    <div class="social">
      <a href="https://instagram.com/fx_mausam.xo" target="_blank">Instagram</a>
      <a href="#">Snapchat</a>
      <a href="#">WhatsApp</a>
    </div>
  </div>

  <!-- MOOD -->
  <div class="card">
    <button onclick="toggleMood()">Mood Change</button>
  </div>

  <!-- MUSIC -->
  <div class="card">
    <h3>Music</h3>
    <audio id="music" src="nepali_flute.mp3"></audio>
    <button onclick="music.play()">▶ Play</button>
    <button onclick="music.pause()">⏸ Pause</button>
  </div>

  <!-- CHAT -->
  <div class="card">
    <h3>Live Chat</h3>

    <input id="username" placeholder="Sender name">

    <div class="chat-box" id="chat"></div>
    <div class="typing" id="typing"></div>

    <div class="msg-row">
      <input id="message" placeholder="Type message">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <button onclick="logout()">Logout</button>

</div>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getDatabase, ref, push, onChildAdded, set } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const chatRef = ref(db,"messages");
const typingRef = ref(db,"typing");

window.sendMessage = function(){
  const user = username.value.trim();
  const text = message.value.trim();
  if(!user || !text) return;

  push(chatRef,{
    user:user,
    text:text,
    time:Date.now(),
    seen:false
  });

  message.value="";
  set(ref(db,"typing/"+user),false);
}

message.oninput = ()=>{
  if(username.value)
    set(ref(db,"typing/"+username.value),true);
}

onChildAdded(chatRef,snap=>{
  const d = snap.val();
  chat.innerHTML += `
    <div class="msg">
      <b>${d.user}</b> : ${d.text}
      <div style="font-size:11px;opacity:.6">Delivered</div>
    </div>
  `;
  chat.scrollTop = chat.scrollHeight;
});
</script>

<script>
function login(){
  if(!loginName.value) return;
  localStorage.setItem("user",loginName.value);
  loginCard.style.display="none";
  main.style.display="block";
  username.value=loginName.value;
}
function logout(){
  localStorage.clear();
  location.reload();
}
function toggleMood(){
  document.body.style.background =
    document.body.style.background=="rgb(255, 230, 239)"
    ? "#dbeafe" : "#ffe6ef";
}
if(localStorage.getItem("user")){
  loginCard.style.display="none";
  main.style.display="block";
  username.value=localStorage.getItem("user");
}
</script>

</body>
</html>
