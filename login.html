<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SEEZU | Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --pink:#ff5c8d;
 --light:#eef3f9;
 --card:#ffffff;
}
body{
 margin:0;
 font-family:Arial, sans-serif;
 background:var(--light);
}
.container{
 width:100%;
 max-width:900px;
 margin:auto;
 padding:20px;
 text-align:center;
}
.logo{
 font-size:48px;
 font-weight:bold;
 color:var(--pink);
 margin:20px 0;
}
.card{
 background:var(--card);
 border-radius:25px;
 padding:25px;
 max-width:420px;
 margin:0 auto;
 box-shadow:0 5px 15px rgba(0,0,0,.1);
}
.login-img{
 width:220px;
 border-radius:20px;
 box-shadow:0 10px 25px rgba(0,0,0,.2);
 margin-bottom:15px;
}
h3{
 color:#ff5c8d;
 margin-bottom:10px;
}
input{
 width:100%;
 padding:12px;
 border-radius:20px;
 border:1px solid #ccc;
 margin:8px 0;
 font-size:14px;
}
button{
 width:100%;
 padding:14px;
 border:none;
 border-radius:25px;
 background:var(--pink);
 color:#fff;
 font-size:16px;
 cursor:pointer;
 margin-top:10px;
}
.link{
 font-size:13px;
 margin-top:12px;
 color:var(--pink);
 cursor:pointer;
}
.msg{
 font-size:13px;
 margin-top:10px;
 color:red;
}
</style>
</head>

<body>

<div class="container">
 <div class="logo">SEEZU</div>

 <div class="card">
  <img src="login-girl.jpg" class="login-img">

  <h3 id="title">Sign In</h3>

  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">

  <button id="mainBtn" onclick="login()">Sign In</button>

  <div class="link" id="toggleText" onclick="toggleMode()">
   New account? Create one
  </div>

  <div class="msg" id="msg"></div>
 </div>
</div>

<script type="module">
import { initializeApp } from
"https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import {
 getFirestore,
 doc,
 getDoc,
 setDoc
} from
"https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

/* ðŸ”¥ FIREBASE */
const firebaseConfig = {
 apiKey: "AIzaSyBkHcQJJ4HXU4R23J2nBy1z4ElL3_Hr1D0",
 authDomain: "seezu-1066d.firebaseapp.com",
 projectId: "seezu-1066d"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let mode = "login"; // login | signup

window.toggleMode = ()=>{
 msg.innerText = "";
 if(mode === "login"){
  mode = "signup";
  title.innerText = "New Account";
  mainBtn.innerText = "Create Account";
  toggleText.innerText = "Already have an account? Sign In";
 }else{
  mode = "login";
  title.innerText = "Sign In";
  mainBtn.innerText = "Sign In";
  toggleText.innerText = "New account? Create one";
 }
};

/* ðŸ” LOGIN */
window.login = async ()=>{
 const u = username.value.trim();
 const p = password.value;

 if(!u || !p){
  msg.innerText = "Fill all fields";
  return;
 }

 const snap = await getDoc(doc(db,"users",u));
 if(!snap.exists()){
  msg.innerText = "User not found";
  return;
 }

 if(snap.data().password !== p){
  msg.innerText = "Wrong password";
  return;
 }

 window.location.href = "home.html";
};

/* ðŸ†• SIGNUP */
window.signup = async ()=>{
 const u = username.value.trim();
 const p = password.value;

 if(!u || !p){
  msg.innerText = "Fill all fields";
  return;
 }

 const ref = doc(db,"users",u);
 if((await getDoc(ref)).exists()){
  msg.innerText = "Username already exists";
  return;
 }

 await setDoc(ref,{
  username: u,
  password: p
 });

 window.location.href = "home.html";
};

/* ðŸ” BUTTON HANDLER */
document.getElementById("mainBtn").onclick = ()=>{
 if(mode === "login"){
  login();
 }else{
  signup();
 }
};
</script>

</body>
</html>
